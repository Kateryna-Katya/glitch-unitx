{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // 1. ПЛАГИНЫ\n    if (typeof gsap !== 'undefined') {\n        gsap.registerPlugin(ScrollTrigger);\n    }\n\n    // 2. ПЛАВНЫЙ СКРОЛЛ (Lenis)\n    const lenis = new Lenis({ duration: 1.2, smoothWheel: true });\n    function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }\n    requestAnimationFrame(raf);\n\n    // 3. МОБИЛЬНОЕ МЕНЮ\n    const burger = document.getElementById('burger-menu');\n    const nav = document.getElementById('nav-menu');\n    if (burger) {\n        burger.onclick = () => {\n            burger.classList.toggle('is-active');\n            nav.classList.toggle('is-active');\n        };\n    }\n\n    // 4. HERO АНИМАЦИЯ (С ЗАЩИТОЙ СЛОВ)\n    const initHero = () => {\n        if (typeof SplitType !== 'undefined' && document.querySelector('#hero-title')) {\n            const title = new SplitType('#hero-title', { types: 'words' });\n            const tl = gsap.timeline({ defaults: { ease: \"power3.out\" } });\n            tl.from(title.words, { y: 40, opacity: 0, stagger: 0.05, duration: 1, clearProps: \"all\" })\n              .from('.hero__actions', { y: 20, opacity: 0, duration: 0.8, clearProps: \"all\" }, \"-=0.5\");\n        }\n    };\n    setTimeout(initHero, 200);\n\n    // 5. STACKING CARDS EFFECT (Эффект наложения карт)\n    const cards = gsap.utils.toArray('.stack-card');\n    cards.forEach((card, index) => {\n        if (index !== cards.length - 1) { // Для всех, кроме последней\n            gsap.to(card, {\n                scale: 0.9, // Карта слегка уменьшается\n                opacity: 0.5,\n                scrollTrigger: {\n                    trigger: cards[index + 1], // Когда начинает ехать следующая карта\n                    start: \"top 80%\",\n                    end: \"top 20%\",\n                    scrub: true,\n                }\n            });\n        }\n    });\n\n    // 6. ТЕХНОЛОГИЧЕСКИЙ СТЕК (Swiper)\n    if (document.querySelector('.tech-slider')) {\n        new Swiper('.tech-slider', {\n            slidesPerView: 'auto', spaceBetween: 30, loop: true,\n            speed: 6000, autoplay: { delay: 0 }, freeMode: true,\n        });\n    }\n\n    // 7. SCROLL REVEAL (Для блога)\n    gsap.utils.toArray('[data-reveal-blog]').forEach(el => {\n        gsap.from(el, {\n            scrollTrigger: { trigger: el, start: \"top 90%\" },\n            y: 30, opacity: 0, duration: 1\n        });\n    });\n\n    // 8. ФОРМА И КАПЧЕ\n    const contactForm = document.getElementById('ai-contact-form');\n    if (contactForm) {\n        const captchaLabel = document.getElementById('captcha-question');\n        let answer;\n        const gen = () => {\n            const n1 = Math.floor(Math.random() * 9) + 1;\n            const n2 = Math.floor(Math.random() * 9) + 1;\n            answer = n1 + n2;\n            if(captchaLabel) captchaLabel.innerText = `${n1} + ${n2} = ?`;\n        };\n        gen();\n\n        contactForm.onsubmit = (e) => {\n            e.preventDefault();\n            if (parseInt(document.getElementById('captcha-answer').value) !== answer) {\n                alert('Ошибка капчи'); gen(); return;\n            }\n            document.getElementById('form-success').classList.add('active');\n        };\n    }\n\n    // 9. COOKIE POPUP\n    const cp = document.getElementById('cookie-popup');\n    if (cp && !localStorage.getItem('glitch_cookies')) {\n        setTimeout(() => cp.classList.add('active'), 2000);\n        document.getElementById('cookie-accept').onclick = () => {\n            localStorage.setItem('glitch_cookies', 'true');\n            cp.classList.remove('active');\n        };\n    }\n\n    // 10. ИКОНКИ\n    if (typeof lucide !== 'undefined') lucide.createIcons();\n});\n\nwindow.resetForm = () => { document.getElementById('form-success').classList.remove('active'); };"],"names":["lenis","raf","time","burger","nav","title","cards","card","index","el","contactForm","captchaLabel","answer","gen","n1","n2","e","cp"],"mappings":"0uBAAA,SAAS,iBAAiB,mBAAoB,IAAM,CAG5C,OAAO,KAAS,KAChB,KAAK,eAAe,aAAa,EAIrC,MAAMA,EAAQ,IAAI,MAAM,CAAE,SAAU,IAAK,YAAa,GAAM,EAC5D,SAASC,EAAIC,EAAM,CAAEF,EAAM,IAAIE,CAAI,EAAG,sBAAsBD,CAAG,CAAE,CACjE,sBAAsBA,CAAG,EAGzB,MAAME,EAAS,SAAS,eAAe,aAAa,EAC9CC,EAAM,SAAS,eAAe,UAAU,EAC1CD,IACAA,EAAO,QAAU,IAAM,CACnBA,EAAO,UAAU,OAAO,WAAW,EACnCC,EAAI,UAAU,OAAO,WAAW,CACnC,GAYL,WARiB,IAAM,CACnB,GAAI,OAAO,UAAc,KAAe,SAAS,cAAc,aAAa,EAAG,CAC3E,MAAMC,EAAQ,IAAI,UAAU,cAAe,CAAE,MAAO,QAAS,EAClD,KAAK,SAAS,CAAE,SAAU,CAAE,KAAM,YAAY,EAAI,EAC1D,KAAKA,EAAM,MAAO,CAAE,EAAG,GAAI,QAAS,EAAG,QAAS,IAAM,SAAU,EAAG,WAAY,KAAO,CAAA,EACtF,KAAK,iBAAkB,CAAE,EAAG,GAAI,QAAS,EAAG,SAAU,GAAK,WAAY,KAAK,EAAI,OAAO,CACtG,CACK,EACoB,GAAG,EAGxB,MAAMC,EAAQ,KAAK,MAAM,QAAQ,aAAa,EAC9CA,EAAM,QAAQ,CAACC,EAAMC,IAAU,CACvBA,IAAUF,EAAM,OAAS,GACzB,KAAK,GAAGC,EAAM,CACV,MAAO,GACP,QAAS,GACT,cAAe,CACX,QAASD,EAAME,EAAQ,CAAC,EACxB,MAAO,UACP,IAAK,UACL,MAAO,EAC3B,CACA,CAAa,CAEb,CAAK,EAGG,SAAS,cAAc,cAAc,GACrC,IAAI,OAAO,eAAgB,CACvB,cAAe,OAAQ,aAAc,GAAI,KAAM,GAC/C,MAAO,IAAM,SAAU,CAAE,MAAO,CAAC,EAAI,SAAU,EAC3D,CAAS,EAIL,KAAK,MAAM,QAAQ,oBAAoB,EAAE,QAAQC,GAAM,CACnD,KAAK,KAAKA,EAAI,CACV,cAAe,CAAE,QAASA,EAAI,MAAO,SAAW,EAChD,EAAG,GAAI,QAAS,EAAG,SAAU,CACzC,CAAS,CACT,CAAK,EAGD,MAAMC,EAAc,SAAS,eAAe,iBAAiB,EAC7D,GAAIA,EAAa,CACb,MAAMC,EAAe,SAAS,eAAe,kBAAkB,EAC/D,IAAIC,EACJ,MAAMC,EAAM,IAAM,CACd,MAAMC,EAAK,KAAK,MAAM,KAAK,OAAQ,EAAG,CAAC,EAAI,EACrCC,EAAK,KAAK,MAAM,KAAK,OAAQ,EAAG,CAAC,EAAI,EAC3CH,EAASE,EAAKC,EACXJ,IAAcA,EAAa,UAAY,GAAGG,CAAE,MAAMC,CAAE,OAC1D,EACDF,EAAK,EAELH,EAAY,SAAYM,GAAM,CAE1B,GADAA,EAAE,eAAgB,EACd,SAAS,SAAS,eAAe,gBAAgB,EAAE,KAAK,IAAMJ,EAAQ,CACtE,MAAM,cAAc,EAAGC,EAAK,EAAE,MAC9C,CACY,SAAS,eAAe,cAAc,EAAE,UAAU,IAAI,QAAQ,CACjE,CACT,CAGI,MAAMI,EAAK,SAAS,eAAe,cAAc,EAC7CA,GAAM,CAAC,aAAa,QAAQ,gBAAgB,IAC5C,WAAW,IAAMA,EAAG,UAAU,IAAI,QAAQ,EAAG,GAAI,EACjD,SAAS,eAAe,eAAe,EAAE,QAAU,IAAM,CACrD,aAAa,QAAQ,iBAAkB,MAAM,EAC7CA,EAAG,UAAU,OAAO,QAAQ,CAC/B,GAID,OAAO,OAAW,KAAa,OAAO,YAAa,CAC3D,CAAC,EAED,OAAO,UAAY,IAAM,CAAE,SAAS,eAAe,cAAc,EAAE,UAAU,OAAO,QAAQ,CAAI"}